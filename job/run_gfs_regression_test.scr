#!/bin/ksh
#
# 
# @ job_name = run_gfs_regression_test
# @ step_name = gfs_prep_test1
# @ output = gfs_prep_out1
# @ error = gfs_prep_err1
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 /ptmp/wx22ec/gfs.1
# @ executable = regression_tests/gfs_prep_test
# @ queue

# @ dependency = (gfs_prep_test1 == 0)
# @ step_name = gfs_runtest1
# @ output = gfs_run_out1
# @ error = gfs_run_err1
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 1 1 1 0 1 /ptmp/wx22ec/gfs.1 /meso/save/wx22ec/trunk
# @ executable = regression_tests/gfs_run_test
# @ queue

# @ step_name = gfs_prep_test2
# @ output = gfs_prep_out2
# @ error = gfs_prep_err2
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 /ptmp/wx22ec/gfs.2
# @ executable = regression_tests/gfs_prep_test
# @ queue


# @ dependency = (gfs_prep_test2==0)
# @ step_name = gfs_runtest2
# @ output = gfs_run_out2
# @ error = gfs_run_err2
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 32
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 32 30 1 2 1 /ptmp/wx22ec/gfs.2 /meso/save/wx22ec/trunk
# @ executable = regression_tests/gfs_run_test
# @ queue

# @ step_name = gfs_prep_test3
# @ output = gfs_prep_out3
# @ error = gfs_prep_err3
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 /ptmp/wx22ec/gfs.3
# @ executable = regression_tests/gfs_prep_test
# @ queue

# @ dependency = (gfs_prep_test3==0)
# @ step_name = gfs_runtest3
# @ output = gfs_run_out3
# @ error = gfs_run_err3
# @ job_type = parallel
# @ parallel_threads = 2
# @ task_affinity = cpu(2)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 16
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 16 14 1 2 2 /ptmp/wx22ec/gfs.3 /meso/save/wx22ec/trunk
# @ executable = regression_tests/gfs_run_test
# @ queue

# @ step_name = gfs_prep_test4
# @ output = gfs_prep_out4
# @ error = gfs_prep_err4
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 /ptmp/wx22ec/gfs.4
# @ executable = regression_tests/gfs_prep_test
# @ queue

# @ dependency = (gfs_prep_test4==0)
# @ step_name = gfs_runtest4
# @ output = gfs_run_out4
# @ error = gfs_run_err4
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 60
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = 2009071000 60 58 1 2 1 /ptmp/wx22ec/gfs.4 /meso/save/wx22ec/trunk
# @ executable = regression_tests/gfs_run_test
# @ queue

# @ dependency = (gfs_runtest1==0)&&(gfs_runtest2==0)&&(gfs_runtest3==0)&&(gfs_runtest4==0)
# @ step_name = gfs_cmptest
# @ output = gfs_cmptest_out
# @ error = gfs_cmptest_out
# @ job_type = parallel
# @ parallel_threads = 1
# @ task_affinity = cpu(1)
# @ blocking = unlimited
# @ node_usage = shared
# @ total_tasks = 1
# @ resources=ConsumableCPUs(1)ConsumableMemory(3500MB)
# @ class = dev
# @ wall_clock_limit = 04:00:00
# @ preferences = Feature == "dev"
# @ network.MPI = sn_all,shared,us
# @ account_no=NAM-T2O
# @ arguments = /meso/noscrub/wx22ec/gfs.0 /ptmp/wx22ec/gfs.1 /ptmp/wx22ec/gfs.2 /ptmp/wx22ec/gfs.3 /ptmp/wx22ec/gfs.4
# @ executable = regression_tests/cmp_test
# @ queue







