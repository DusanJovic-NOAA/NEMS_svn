SHELL     = /bin/sh

ESMF_INC  = -I/nwprod/lib/incmod/esmf_3_1_0rp2
ESMF_LIBS = -L/nwprod/lib -lesmf_3_1_0rp2 -lC_r

POSTDIR=/climate/save/wx20wa/unipost/trunk
POSTMOD=${POSTDIR}/incmod/post_4
POSTLIB=${POSTDIR}

EXTLIBS   = -L/climate/save/wx20wa/gfsio/w3/sorc_opn -lw3_d -L/climate/save/wx20wa/gfsio/lib/nemsio -lnemsio $(ESMF_LIBS) -L/nwprod/lib -lbacio_4 -lsp_d -lessl_r -lmass -lmassvp6
EXTLIBS_POST   = -L/climate/save/wx20wa/lib -lnemsio_v2 -lw3_v2.2.3_4 -lxmlparse -lg2tmpl -L${POSTLIB} -lnceppost $(ESMF_LIBS) /nco/sib/gribdev/lib/libg2_4.a -L/usrx/local/64bit/lib -ljasper -lpng -lz -L/nwprod/lib -lbacio_4 -lsigio_4 -lsfcio_4 -lsp_d -lessl_r -lmass -lmassvp6 -lcrtm_2.0.2

NEMSIO_INC  = -I/climate/save/wx20wa/lib/incmod/nemsio_v2

FC        = mpxlf95_r 
FREE      = -qfree=f90
FIXED     = -qfixed
R8        = -qrealsize=8

SMP       = -qsmp=omp
MAF       = -qfloat=nomaf
LIST      = -qsource -qlist
FINCS     = $(ESMF_INC) $(NEMSIO_INC)
#TRAPS     = -qinitauto=FF911299 -qflttrap=ov:zero:en -qsigtrap -C
TRAPS     = 

FFLAGS    = $(TRAPS) $(FINCS)

OPTS_NMM  = -O3 -qstrict -qmaxmem=-1 -qarch=auto -qtune=auto -NS2000
OPTS_GFS  = -O3 -qstrict -qxlf77=leadzero -qmaxmem=-1 -qnolm -qsmp=noauto -qnosave -NS2048 -qsuffix=cpp=f
OPTS_GEN  = -O3 -qstrict -qxlf77=leadzero -qmaxmem=-1 -qnolm -qsmp=noauto -qnosave -NS2048 -qsuffix=cpp=f
OPTS_FIM  = -O3 -qstrict -qmaxmem=-1 -qarch=auto -qtune=auto -NS2048 -qsuffix=cpp=f

FFLAGS_NMM= $(OPTS_NMM) $(FFLAGS)
FFLAGS_GFS= $(OPTS_GFS) $(FFLAGS)
FFLAGS_GFSF= $(OPTS_GFS) $(FFLAGS) -qfixed
FFLAGS_GEN= $(OPTS_GEN) $(FFLAGS)
FFLAGS_FIM= $(OPTS_FIM) $(FFLAGS)

CPP       = /lib/cpp -P
CPPFLAGS  = -DENABLE_SMP -DIBM

AR        = ar
ARFLAGS   = -r

RM        = rm

MAKEDEPF90 = /u/wx20du/bin/makedepf90
